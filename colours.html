<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>500 Error</title>
<style>
body {
  margin: 0;
  height: 100vh;
  background: #000;
  overflow: hidden;
  cursor: none;
}
canvas {
  display: block;
}
</style>
</head>
<body>
<canvas id="c"></canvas>

<script>
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
let W = canvas.width = window.innerWidth;
let H = canvas.height = window.innerHeight;

window.addEventListener('resize', ()=>{
    W = canvas.width = window.innerWidth;
    H = canvas.height = window.innerHeight;
});

// Particle setup
class Particle {
    constructor(x,y,z){
        this.x = x;
        this.y = y;
        this.z = z;
        this.size = 2 + Math.random()*2;
    }
    draw(){
        let scale = 400 / (400 + this.z);
        let x = this.x * scale + W/2;
        let y = this.y * scale + H/2;
        ctx.beginPath();
        ctx.arc(x,y,this.size*scale,0,Math.PI*2);
        ctx.fillStyle = `hsl(${(this.z+Math.random()*50)%360},100%,60%)`;
        ctx.fill();
    }
    update(mouse){
        // Repel from pointer
        let scale = 400 / (400 + this.z);
        let px = this.x * scale + W/2;
        let py = this.y * scale + H/2;
        let dx = px - mouse.x;
        let dy = py - mouse.y;
        let dist = Math.sqrt(dx*dx + dy*dy);
        if(dist < 100){
            this.x += dx/dist * 2;
            this.y += dy/dist * 2;
        }
        this.z -= 0.5;
        if(this.z < -200) this.z = 800;
    }
}

let particles = [];
for(let i=0;i<600;i++){
    let angle = Math.random()*Math.PI*2;
    let radius = 100 + Math.random()*200;
    particles.push(new Particle(Math.cos(angle)*radius, Math.sin(angle)*radius, Math.random()*600 - 300));
}

let mouse = {x: W/2, y: H/2};
document.addEventListener('mousemove', (e)=>{
    mouse.x = e.clientX;
    mouse.y = e.clientY;
});

document.addEventListener('click', ()=>{
    // Supernova effect
    for(let i=0;i<50;i++){
        particles.push(new Particle((Math.random()-0.5)*200, (Math.random()-0.5)*200, 400));
    }
});

function draw(){
    ctx.fillStyle = 'rgba(0,0,0,0.2)';
    ctx.fillRect(0,0,W,H);
    for(let p of particles){
        p.update(mouse);
        p.draw();
    }
    requestAnimationFrame(draw);
}

draw();
</script>
</body>
</html>
