<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>500 | Dimensional Error</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        body { margin: 0; background: #000; overflow: hidden; font-family: 'Inter', sans-serif; }
        .ui {
            position: absolute;
            bottom: 10%;
            width: 100%;
            text-align: center;
            color: #444;
            z-index: 10;
            letter-spacing: 0.5em;
            text-transform: uppercase;
            font-size: 0.7rem;
            pointer-events: none;
        }
        .btn {
            position: absolute;
            bottom: 5%;
            left: 50%;
            transform: translateX(-50%);
            z-index: 20;
            color: #fff;
            text-decoration: none;
            border: 1px solid #333;
            padding: 8px 20px;
            font-size: 10px;
            transition: 0.3s;
        }
        .btn:hover { background: #fff; color: #000; }
    </style>
</head>
<body>

    <div class="ui">Internal Server Disruption / Critical Gravity Loss</div>
    <a href="/" class="btn">REBOOT SYSTEM</a>

    <script>
        let scene, camera, renderer, textMesh, light, floor;
        const mouse = { x: 0, y: 0 };

        function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(0, 0, 15);

            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            document.body.appendChild(renderer.domElement);

            // 1. Add a Point Light (The "Pointer" Light)
            light = new THREE.PointLight(0xffffff, 2, 20);
            scene.add(light);

            // 2. Add subtle Ambient Light so the shadows aren't pitch black
            const ambient = new THREE.AmbientLight(0xffffff, 0.05);
            scene.add(ambient);

            // 3. Load 3D Font & Create Text Mesh
            const loader = new THREE.FontLoader();
            // Using a public JSON font
            loader.load('https://threejs.org/examples/fonts/helvetiker_bold.typeface.json', function (font) {
                const textGeo = new THREE.TextGeometry('500', {
                    font: font,
                    size: 4,
                    height: 1.5,
                    curveSegments: 12,
                    bevelEnabled: true,
                    bevelThickness: 0.1,
                    bevelSize: 0.1,
                    bevelOffset: 0,
                    bevelSegments: 5
                });

                textGeo.center(); // Center the 500

                const textMat = new THREE.MeshStandardMaterial({ 
                    color: 0x111111,
                    roughness: 0.1,
                    metalness: 0.8
                });

                textMesh = new THREE.Mesh(textGeo, textMat);
                scene.add(textMesh);
            });

            // 4. Background Grid/Floor for depth
            const gridGeo = new THREE.PlaneGeometry(100, 100, 50, 50);
            const gridMat = new THREE.MeshStandardMaterial({ color: 0x050505, wireframe: true });
            floor = new THREE.Mesh(gridGeo, gridMat);
            floor.rotation.x = -Math.PI / 2;
            floor.position.y = -5;
            scene.add(floor);

            window.addEventListener('mousemove', onMouseMove);
            animate();
        }

        function onMouseMove(event) {
            // Normalized coordinates
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
        }

        function animate() {
            requestAnimationFrame(animate);

            // Light follows pointer with a slight delay (smoothness)
            const targetX = mouse.x * 10;
            const targetY = mouse.y * 6;
            
            light.position.x += (targetX - light.position.x) * 0.1;
            light.position.y += (targetY - light.position.y) * 0.1;
            light.position.z = 5;

            if (textMesh) {
                // Subtle floating rotation
                textMesh.rotation.y = mouse.x * 0.3;
                textMesh.rotation.x = -mouse.y * 0.2;
                
                // Add a "shiver" effect to the text
                textMesh.position.y = Math.sin(Date.now() * 0.002) * 0.1;
            }

            renderer.render(scene, camera);
        }

        init();

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>